<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>CITI-BETS</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        
    <link href="/CSS/sign-up.css" rel="stylesheet">

    <style>
        .body-back {
            background-image: url('./images/50cefc2122adfae92d31df3c13b83244.jpg');
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            /* Full height */
            height: 100%;
        }
    </style>
    </head>
    <body class="body-back" style="overflow: hidden;"> 
        <div class="wrapper">
            <div class="form-left">
                <h2 class="text-uppercase" style="text-align: center; margin-top: 180px;">Beats on the go...</h2>

                <div class="form-field">
                    <a href="login.html"><input type="submit" class="account" value="Have an Account?"></a>
                </div>
            </div>
            <form class="form-right" id="regform">
                <h2 class="text-uppercase">Registration form</h2>
                <div class="row">
                    <div class="col-sm-6 mb-3">
                        <label>Full Name</label>
                        <input type="text" name="first_name" id="first_name" class="input-field" placeholder="Full name">
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label>User Name</label>
                        <input type="text" name="username" id="rusername" class="input-field" placeholder="User Name">
                    </div>
                </div>
                <div class="mb-3">
                    <label>Your Email</label>
                    <input type="email" class="input-field" name="email" id="email" placeholder="johndoe@gmal.com" required>
                </div>
                <div class="row">
                    <div class="col-sm-6 mb-3">
                        <label>Password</label>
                        <input type="password" name="password" id="rpassword" class="input-field">
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label>Confirm Password</label>
                        <input type="password" name="cpassword" id="cpassword" class="input-field">
                    </div>
                </div>
                <div class="mb-3">
                    <label class="option">I agree to the <a href="#">Terms and Conditions</a>
                        <input type="checkbox" checked>
                        <span class="checkmark"></span>
                    </label>
                </div>
                <div class="form-field">
                    <button type="submit" class="register" name="register">Register</button>
                </div>
            </form>
        </div>
    
<script>
    // Get the registration form element
const regForm = document.getElementById('regform');

// Add an event listener to the form
regForm.addEventListener('submit', function(event) {
  event.preventDefault(); // Prevent the form from submitting

  // Get the form values
  const firstName = document.getElementById('first_name').value;
  const username = document.getElementById('rusername').value;
  const email = document.getElementById('email').value;
  const password = document.getElementById('rpassword').value;
  const confirmPassword = document.getElementById('cpassword').value;

  // Check if the user already exists
  const existingUser = getCookie('username');
     if (existingUser !== '') {
        alert('You already have an account. Please log in instead.');
        window.location.href = 'login.html';
     return false;
}

// Function to get a cookie value by name
  function getCookie(name) {
    const cookieValue = document.cookie.match('(^|;)\\s*' + name + '\\s*=\\s*([^;]+)');
    return cookieValue ? cookieValue.pop() : '';
}

  // Validate the form data
  if (firstName === '' || username === '' || email === '' || password === '' || confirmPassword === '') {
    alert('All fields are required. Please complete the form.');
    return false;
  }
  if (!/\S+@\S+\.\S+/.test(email)) {
    alert('Please enter a valid email address.');
    return false;
  }
  if (password !== confirmPassword) {
    alert('The password and confirm password fields do not match.');
    return false;
  }

  // Store the form data in cookies
  document.cookie = `firstName=${firstName}; expires=${new Date(Date.now() + 86400000).toUTCString()}; path=/`;
  document.cookie = `username=${username}; expires=${new Date(Date.now() + 86400000).toUTCString()}; path=/`;
  document.cookie = `email=${email}; expires=${new Date(Date.now() + 86400000).toUTCString()}; path=/`;
  document.cookie = `password=${password}; expires=${new Date(Date.now() + 86400000).toUTCString()}; path=/`;

  // Alert the user that registration was successful
  alert('Registration successful!');

  // Redirect to another page
  window.location.href = 'login.html'
});

</script>
  
<script src="sign-up.js"></script>
</body>
</html>